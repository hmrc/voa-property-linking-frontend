
σήz
ΘΞp_root_.org.scalatest.MustMatchers#AnyMustWrapper#mustBe(Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.F
ΑΔ<_root_.org.mockito.ArgumentMatchers.any()Ljava/lang/Object;.9
¤/_root_.org.jsoup.Jsoup.;_root_.org.jsoup.Jsoup#Q
θοG_root_.controllers.IdentityVerification#success()Lplay/api/mvc/Action;.j
»Ζ`_root_.play.api.test.FakeRequest#withSession(Lscala/collection/Seq;)Lplay/api/test/FakeRequest;.>
½$Δ$4_root_.controllers.IdentityVerificationSpec#request.
Υ_root_.play.api.F
!!:test/controllers/IdentityVerificationSpec.scala@4230..4323)
ΓΤ_root_.utils.StubAuthConnector.Έ
ΚΜ­_root_.org.mockito.ArgumentMatchers.eq(Ljava/lang/Object;)Ljava/lang/Object;.;_root_.org.mockito.ArgumentMatchers.eq(S)S.;_root_.org.mockito.ArgumentMatchers.eq(J)J.;_root_.org.mockito.ArgumentMatchers.eq(I)I.;_root_.org.mockito.ArgumentMatchers.eq(F)F.;_root_.org.mockito.ArgumentMatchers.eq(D)D.;_root_.org.mockito.ArgumentMatchers.eq(C)C.;_root_.org.mockito.ArgumentMatchers.eq(B)B.;_root_.org.mockito.ArgumentMatchers.eq(Z)Z.¦
Πά›_root_.repositories.SessionRepository#saveOrUpdate(Ljava/lang/Object;Lplay/api/libs/json/Writes;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.
Ά_root_.connectors.)
λό_root_.utils.StubAuthConnector.F
’<_root_.org.mockito.ArgumentMatchers.any()Ljava/lang/Object;.
θο_root_.org.mockito.u
‡‰k_root_.org.scalatest.FlatSpecLike#InAndIgnoreMethods#in(Lscala/Function0;Lorg/scalactic/source/Position;)V.D
£¤:test/controllers/IdentityVerificationSpec.scala@1480..1526
¬―_root_.org.U
™K_root_.org.scalactic.source.Position.here()Lorg/scalactic/source/Position;.Q
³$Ί$G_root_.controllers.IdentityVerification#success()Lplay/api/mvc/Action;.0
κ‚&_root_.utils.StubIdentityVerification.
ΥΪ_root_.utils.U
ΎΙK_root_.utils.StubGroupAccountConnector.stubAccount(Lmodels/GroupAccount;)V.‰
¥¨_root_.repositories.SessionRepository#get(Lplay/api/libs/json/Reads;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.t
£¨j_root_.org.scalatest.words.MatcherWords#equal(Ljava/lang/Object;)Lorg/scalatest/matchers/MatcherFactory1;.F
¦¨:test/controllers/IdentityVerificationSpec.scala@3106..3199a
µΏW_root_.scala.concurrent.Future.successful(Ljava/lang/Object;)Lscala/concurrent/Future;.t
Ώ Δ j_root_.org.scalatest.words.MatcherWords#equal(Ljava/lang/Object;)Lorg/scalatest/matchers/MatcherFactory1;.>
ξυ4_root_.controllers.IdentityVerificationSpec#request.D
ω
ω
8_root_.controllers.IdentityVerificationSpec#`<init>`()V.*
™ _root_.org.scalacheck.Arbitrary.[
­Q_root_.utils.StubIdentityVerification.stubSuccessfulJourney(Ljava/lang/String;)V.F
δη<_root_.org.mockito.ArgumentMatchers.any()Ljava/lang/Object;.
•_root_.org.a
”W_root_.scala.concurrent.Future.successful(Ljava/lang/Object;)Lscala/concurrent/Future;.
’
–
_root_.uk.gov.hmrc.>
Ό!Γ!4_root_.controllers.IdentityVerificationSpec#request.΅
Ί Ύ –_root_.org.scalatest.MustMatchers#AnyMustWrapper#must(Lorg/scalatest/matchers/MatcherFactory1;Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.U
ό€K_root_.org.scalactic.source.Position.here()Lorg/scalactic/source/Position;.1
¤½'_root_.utils.StubGroupAccountConnector.F
ξϊ:test/controllers/IdentityVerificationSpec.scala@3562..3615?
Ί5_root_.repositories.PersonalDetailsSessionRepository#W

©
M_root_.uk.gov.hmrc.http.HeaderCarrier.;_root_.uk.gov.hmrc.http.HeaderCarrier#K
²A_root_.play.api.Application#injector()Lplay/api/inject/Injector;.a
ΫεW_root_.scala.concurrent.Future.successful(Ljava/lang/Object;)Lscala/concurrent/Future;.2
ΗΫ(_root_.controllers.IdentityVerification#0
Ο#η#&_root_.utils.StubIdentityVerification.F
ΙΜ:test/controllers/IdentityVerificationSpec.scala@2629..2716?
Υυ5_root_.repositories.PersonalDetailsSessionRepository#
Ώ"Γ"_root_.scala.None.Ψ
ΫΫΝ_root_.controllers.IdentityVerification#`<init>`(Lauth/GGAction;Lconnectors/IdentityVerification;Lconnectors/Addresses;Lconnectors/IndividualAccounts;Lconnectors/identityVerificationProxy/IdentityVerificationProxyConnector;Lconnectors/GroupAccounts;Lconnectors/VPLAuthConnector;Lconfig/ApplicationConfig;Lrepositories/SessionRepo;)V.F
ηλ:test/controllers/IdentityVerificationSpec.scala@2787..2818z
ƒ%‰%p_root_.org.scalatest.MustMatchers#AnyMustWrapper#mustBe(Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.W
θ#ω#M_root_.utils.StubIdentityVerification.stubFailedJourney(Ljava/lang/String;)V.d
ΕΝZ_root_.org.scalatest.AppendedClues#Clueful#withClue(Ljava/lang/Object;)Ljava/lang/Object;.2
©(_root_.models.GroupAccount#(companyName)o
ζοe_root_.org.scalacheck.ArbitraryLowPriority#arbitrary(Lorg/scalacheck/Arbitrary;)Lorg/scalacheck/Gen;.1
τ'_root_.utils.StubGroupAccountConnector.F
–™<_root_.org.mockito.ArgumentMatchers.any()Ljava/lang/Object;.4
*_root_.org.scalatest.FlatSpec#`<init>`()V.u
κμk_root_.org.scalatest.FlatSpecLike#InAndIgnoreMethods#in(Lscala/Function0;Lorg/scalactic/source/Position;)V.'
Πί_root_.play.api.test.Helpers.J
ΖΡ@_root_.utils.StubAuthConnector.stubGroupId(Ljava/lang/String;)V.z
ς†p_root_.controllers.IdentityVerificationSpec#requestWithJourneyId(Ljava/lang/String;)Lplay/api/test/FakeRequest;.0
ό”&_root_.utils.StubIdentityVerification.6
£Ό,_root_.connectors.identityVerificationProxy.O
$²$E_root_.controllers.IdentityVerificationSpec#TestIdentityVerification.Q
θοG_root_.controllers.IdentityVerification#success()Lplay/api/mvc/Action;.
„_root_.org.?
·Ί5_root_.org.scalatestplus.play.BaseOneAppPerSuite#app.D
ϊ:test/controllers/IdentityVerificationSpec.scala@2748..2782)
σ„_root_.utils.StubAuthConnector.M
…“C_root_.utils.StubAuthConnector.stubExternalId(Ljava/lang/String;)V.;
•›1_root_.org.scalacheck.Gen#sample()Lscala/Option;.>
!Ω!4_root_.controllers.IdentityVerificationSpec#request.G
ύ=_root_.models.PersonalDetails.;_root_.models.PersonalDetails#%
©―_root_.scala.Predef.String#
ΟΣ_root_.scala.None.e
ΠΤ[_root_.org.scalatest.mockito.MockitoSugar#mock(Lscala/reflect/ClassTag;)Ljava/lang/Object;.
‚‡”_root_.repositories.SessionRepository#start(Ljava/lang/Object;Lplay/api/libs/json/Writes;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.9
«Α/_root_.uk.gov.hmrc.play.HeaderCarrierConverter.6
Α	ί	,_root_.utils.StubIndividualAccountConnector.{
ΙΣq_root_.org.mockito.stubbing.OngoingStubbing#thenReturn(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.K
A_root_.config.ApplicationConfig.;_root_.config.ApplicationConfig#"
½
Α
_root_.uk.gov.hmrc.play.d
ΧίZ_root_.org.scalatest.AppendedClues#Clueful#withClue(Ljava/lang/Object;)Ljava/lang/Object;.
επ_root_.controllers.t
†‹j_root_.org.scalatest.words.MatcherWords#equal(Ljava/lang/Object;)Lorg/scalatest/matchers/MatcherFactory1;.J
Υΰ@_root_.utils.StubAuthConnector.stubGroupId(Ljava/lang/String;)V.D
:test/controllers/IdentityVerificationSpec.scala@1480..1526Α
¤¨¶_root_.org.scalatest.words.MustVerb#StringMustWrapperForVerb#must(Ljava/lang/String;Lorg/scalatest/words/StringVerbStringInvocation;)Lorg/scalatest/words/ResultOfStringPassedToVerb;.3
%–%)_root_.play.api.http.Status#UNAUTHORIZED.F
λξ<_root_.org.mockito.ArgumentMatchers.any()Ljava/lang/Object;.d
ΙΝZ_root_.org.mockito.Mockito.when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.@
κρ4_root_.controllers.IdentityVerificationSpec#request.F
ΙΜ:test/controllers/IdentityVerificationSpec.scala@3781..3865D
€:test/controllers/IdentityVerificationSpec.scala@1480..1526D
‘:test/controllers/IdentityVerificationSpec.scala@3562..3615
ΝΡ_root_.play.6
,_root_.scala.Option#get()Ljava/lang/Object;.d
ΚZ_root_.org.scalatest.AppendedClues#Clueful#withClue(Ljava/lang/Object;)Ljava/lang/Object;.F
ΐΗ:test/controllers/IdentityVerificationSpec.scala@2748..27828
ΰ
ψ
,_root_.controllers.IdentityVerificationSpec#%
πχ_root_.org.mockito.Mockito.4
Ϊ!α!*_root_.play.api.mvc.RequestHeader#session.
°·_root_.org.mockito.Y
½ίO_root_.connectors.identityVerificationProxy.IdentityVerificationProxyConnector#$
άθ_root_.utils.StubGGAction.D
ΞΟ:test/controllers/IdentityVerificationSpec.scala@1480..1526
ιν_root_.scala.Some.%
„‘_root_.utils.StubAddresses.Α
®¶_root_.org.scalatest.words.MustVerb#StringMustWrapperForVerb#must(Ljava/lang/String;Lorg/scalatest/words/StringVerbStringInvocation;)Lorg/scalatest/words/ResultOfStringPassedToVerb;.(
©Έ_root_.models.PersonalDetails#D
ΚΦ:test/controllers/IdentityVerificationSpec.scala@3562..3615P
ΣΥF_root_.scala.Predef.ArrowAssoc#`->`(Ljava/lang/Object;)Lscala/Tuple2;.U
µ Ή K_root_.org.scalactic.source.Position.here()Lorg/scalactic/source/Position;.d
Ι Ρ Z_root_.org.scalatest.AppendedClues#Clueful#withClue(Ljava/lang/Object;)Ljava/lang/Object;.
ΧΫƒ_root_.models.GroupAccount#copy(JLjava/lang/String;Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;ZJ)Lmodels/GroupAccount;.9
Β
Ψ
/_root_.uk.gov.hmrc.play.HeaderCarrierConverter.
μ	ρ	_root_.scala.*
ΎΟ _root_.config.ApplicationConfig#
χϋ_root_.play.api.test.
£¦_root_.org.F
Ί½<_root_.org.mockito.ArgumentMatchers.any()Ljava/lang/Object;.a
ΔΞW_root_.play.api.inject.Injector#instanceOf(Lscala/reflect/ClassTag;)Ljava/lang/Object;.
δη_root_.org.
‹


_root_.uk.
΄
·
_root_.uk.gov.F
½Α:test/controllers/IdentityVerificationSpec.scala@3897..3941)
®΄_root_.scala.concurrent.Future.(
π_root_.models.PersonalDetails#F
α<_root_.controllers.IdentityVerificationSpec#mockSessionRepo.

‘
_root_.uk.gov.o
ύ†e_root_.org.scalacheck.ArbitraryLowPriority#arbitrary(Lorg/scalacheck/Arbitrary;)Lorg/scalacheck/Gen;.!
ΔΙ_root_.org.jsoup.Jsoup.H
°Ώ<_root_.controllers.IdentityVerificationSpec#mockSessionRepo.$
ώ	_root_.utils.StubGGAction.4
Δ!Λ!*_root_.play.api.test.FakeRequest#(headers)"
—
›
_root_.uk.gov.hmrc.http.9
!¥!/_root_.uk.gov.hmrc.play.HeaderCarrierConverter.4
•΅*_root_.org.scalatest.mockito.MockitoSugar#+
τ!_root_.play.api.test.FakeRequest.v
Ό"Ύ"l_root_.org.scalatest.words.ResultOfNotWordForAny#be(Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.M
Ά°C_root_.utils.StubAuthConnector.stubExternalId(Ljava/lang/String;)V.U
τωK_root_.org.jsoup.Jsoup.parse(Ljava/lang/String;)Lorg/jsoup/nodes/Document;.z
°p_root_.org.scalatest.MustMatchers#AnyMustWrapper#mustBe(Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.
™_root_.repositories.6
—µ,_root_.utils.StubIndividualAccountConnector.z
­³p_root_.org.scalatest.MustMatchers#AnyMustWrapper#mustBe(Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.Α
# #¶_root_.org.scalatest.words.MustVerb#StringMustWrapperForVerb#must(Ljava/lang/String;Lorg/scalatest/words/StringVerbStringInvocation;)Lorg/scalatest/words/ResultOfStringPassedToVerb;.D
Ϊέ:test/controllers/IdentityVerificationSpec.scala@2778..2781U
ΓΗK_root_.org.scalactic.source.Position.here()Lorg/scalactic/source/Position;.O
ΟηE_root_.controllers.IdentityVerificationSpec#TestIdentityVerification.
ξς_root_.play.F
ΜΝ:test/controllers/IdentityVerificationSpec.scala@1480..1526.
ΈΘ$_root_.org.mockito.ArgumentMatchers.A
οϋ7_root_.models.GroupAccount.;_root_.models.GroupAccount#
ΦΪ_root_.play.api.test.1
	¥	'_root_.utils.StubGroupAccountConnector.F
έΰ<_root_.org.mockito.ArgumentMatchers.any()Ljava/lang/Object;.)
±³_root_.play.api.http.Status#OK.F
”$—$:test/controllers/IdentityVerificationSpec.scala@4624..4722)
ƒ‰_root_.scala.concurrent.Future.
σφ_root_.play.api.>
³Ί4_root_.controllers.IdentityVerificationSpec#request.)
΄Ε_root_.utils.StubAuthConnector.Q
G_root_.scala.StringContext#s(Lscala/collection/Seq;)Ljava/lang/String;.t
Νj_root_.org.scalatest.words.MatcherWords#equal(Ljava/lang/Object;)Lorg/scalatest/matchers/MatcherFactory1;.'
±Έ_root_.org.scalatest.mockito.Q
¦ΎE_root_.controllers.IdentityVerificationSpec#TestIdentityVerification.[
•Q_root_.utils.StubIdentityVerification.stubSuccessfulJourney(Ljava/lang/String;)V.€
¥§t_root_.controllers.IdentityVerificationSpec#requestWithJourneyId(Ljava/lang/String;)Lplay/api/test/FakeRequest;.(id)|
¤p_root_.controllers.IdentityVerificationSpec#requestWithJourneyId(Ljava/lang/String;)Lplay/api/test/FakeRequest;.0
—&_root_.utils.StubIdentityVerification.d
ϋZ_root_.org.mockito.Mockito.when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.>
Ψί4_root_.controllers.IdentityVerificationSpec#request.–
¦!»!‹_root_.uk.gov.hmrc.play.HeaderCarrierConverter.fromHeadersAndSession(Lplay/api/mvc/Headers;Lscala/Option;)Luk/gov/hmrc/http/HeaderCarrier;.
™_root_.org.jsoup.I
ύ	ƒ
?_root_.scala.concurrent.Future.;_root_.scala.concurrent.Future#)
ΤΪ_root_.scala.concurrent.Future.)
΅_root_.utils.StubAuthConnector.Y
ΟρO_root_.connectors.identityVerificationProxy.IdentityVerificationProxyConnector#΅
Ά–_root_.org.scalatest.MustMatchers#AnyMustWrapper#must(Lorg/scalatest/matchers/MatcherFactory1;Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.΅
…–_root_.org.scalatest.MustMatchers#AnyMustWrapper#must(Lorg/scalatest/matchers/MatcherFactory1;Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.F
‹<_root_.org.mockito.ArgumentMatchers.any()Ljava/lang/Object;.D
ΰγ:test/controllers/IdentityVerificationSpec.scala@3936..3939,
"_root_.controllers.ControllerSpec#!
ξσ_root_.org.jsoup.Jsoup.4
ΰη*_root_.play.api.test.FakeRequest#(headers)'
όƒ_root_.play.api.test.Helpers.?
¦©5_root_.org.scalatestplus.play.BaseOneAppPerSuite#app.{
ψ‚q_root_.org.mockito.stubbing.OngoingStubbing#thenReturn(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.)
“¤_root_.utils.StubAuthConnector.—
άγ_root_.models.GroupAccount#copy(JLjava/lang/String;Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;ZJ)Lmodels/GroupAccount;.(groupId)U
ΚΟK_root_.org.jsoup.Jsoup.parse(Ljava/lang/String;)Lorg/jsoup/nodes/Document;.
ψώ_root_.config.u
Ζ#Θ#k_root_.org.scalatest.FlatSpecLike#InAndIgnoreMethods#in(Lscala/Function0;Lorg/scalactic/source/Position;)V.z
ς†p_root_.controllers.IdentityVerificationSpec#requestWithJourneyId(Ljava/lang/String;)Lplay/api/test/FakeRequest;.%
άι_root_.utils.StubAddresses.΅
ΘΜ–_root_.org.scalatest.MustMatchers#AnyMustWrapper#must(Lorg/scalatest/matchers/MatcherFactory1;Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.0
§	Ώ	&_root_.utils.StubIdentityVerification.;
‡1_root_.org.scalacheck.Gen#sample()Lscala/Option;._
ΉΕU_root_.org.scalatest.mockito.MockitoSugar.;_root_.org.scalatest.mockito.MockitoSugar#d
ΆZ_root_.org.mockito.Mockito.when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.–
ΒΧ‹_root_.uk.gov.hmrc.play.HeaderCarrierConverter.fromHeadersAndSession(Lplay/api/mvc/Headers;Lscala/Option;)Luk/gov/hmrc/http/HeaderCarrier;.)
΄¶_root_.play.api.http.Status#OK.
ΒΛ_root_.resources.'
ΚΩ_root_.play.api.test.Helpers."
ς	ό	_root_.scala.concurrent.a
³½W_root_.play.api.inject.Injector#instanceOf(Lscala/reflect/ClassTag;)Ljava/lang/Object;.M
ΫζC_root_.play.api.test.FakeRequest.;_root_.play.api.test.FakeRequest#%
‡“_root_.models.GroupAccount#6
Έ"»",_root_.org.scalatest.words.MatcherWords#not.K
»ΓA_root_.play.api.Application#injector()Lplay/api/inject/Injector;.P
ή$ΰ$F_root_.scala.Predef.ArrowAssoc#`->`(Ljava/lang/Object;)Lscala/Tuple2;.
±
³

_root_.uk. 
…_root_.org.scalacheck.
ην_root_.models.j
Ε$Π$`_root_.play.api.test.FakeRequest#withSession(Lscala/collection/Seq;)Lplay/api/test/FakeRequest;.~
ΦΨt_root_.controllers.IdentityVerificationSpec#requestWithJourneyId(Ljava/lang/String;)Lplay/api/test/FakeRequest;.(id)
Έ
Ό
_root_.uk.gov.hmrc.
Ν!Ρ!_root_.scala.Some.O
ΟηE_root_.controllers.IdentityVerificationSpec#TestIdentityVerification.
§°_root_.org.scalatest.{
£­q_root_.org.mockito.stubbing.OngoingStubbing#thenReturn(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.4
φύ*_root_.play.api.mvc.RequestHeader#session.‹
³"·"€_root_.org.scalatest.MustMatchers#AnyMustWrapper#must(Lorg/scalatest/words/NotWord;)Lorg/scalatest/words/ResultOfNotWordForAny;."9
"_root_.controllers.ControllerSpec#€@ControllerSpec"Ν
q_root_.org.mockito.stubbing.OngoingStubbing#thenReturn(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.Χ„€„
thenReturn(x$1: T): OngoingStubbing[T]"7
/_root_.org.mockito.stubbing.OngoingStubbing#[T]"4

,_root_.org.mockito.stubbing.OngoingStubbing#"7
/_root_.org.mockito.stubbing.OngoingStubbing#[T]"T
,_root_.utils.StubIndividualAccountConnector.$€„StubIndividualAccountConnector"$
_root_.play.api.test.€€test"z
O_root_.connectors.identityVerificationProxy.IdentityVerificationProxyConnector#'€ "IdentityVerificationProxyConnector"x
:test/controllers/IdentityVerificationSpec.scala@2787..2818:htmlDocument"&
 _root_.org.jsoup.nodes.Document#"E
(_root_.controllers.IdentityVerification#€ IdentityVerification"΅
:test/controllers/IdentityVerificationSpec.scala@4624..4722cresFuture[Result]"%
_root_.scala.concurrent.Future#"#
_root_.play.api.mvc.Result#"6
!_root_.play.api.test.FakeRequest.€„FakeRequest"Ν
Z_root_.org.scalatest.AppendedClues#Clueful#withClue(Ljava/lang/Object;)Ljava/lang/Object;.owithClue(clue: Any): T"

_root_.scala.Any#"6
._root_.org.scalatest.AppendedClues#Clueful#[T]"
_root_.repositories.SessionRepository#get(Lplay/api/libs/json/Reads;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.‹getE[A] => (implicit rds: Reads[A], hc: HeaderCarrier): Future[Option[A]]"(
 _root_.play.api.libs.json.Reads#"‹
‚_root_.repositories.SessionRepository#get(Lplay/api/libs/json/Reads;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.[A]".
$1&_root_.uk.gov.hmrc.http.HeaderCarrier#"'
4:_root_.scala.concurrent.Future#"
;A_root_.scala.Option#"‹
BC‚_root_.repositories.SessionRepository#get(Lplay/api/libs/json/Reads;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.[A]"'
_root_.connectors.€€
connectors"
:test/controllers/IdentityVerificationSpec.scala@3562..3615AgroupAccountGroupAccount"!
_root_.models.GroupAccount#"Τ
e_root_.org.scalacheck.ArbitraryLowPriority#arbitrary(Lorg/scalacheck/Arbitrary;)Lorg/scalacheck/Gen;.κ	arbitrary)[T] => (implicit a: Arbitrary[T]): Gen[T]"(
 _root_.org.scalacheck.Arbitrary#"p
h_root_.org.scalacheck.ArbitraryLowPriority#arbitrary(Lorg/scalacheck/Arbitrary;)Lorg/scalacheck/Gen;.[T]""
#&_root_.org.scalacheck.Gen#"p
'(h_root_.org.scalacheck.ArbitraryLowPriority#arbitrary(Lorg/scalacheck/Arbitrary;)Lorg/scalacheck/Gen;.[T]"ρ
›_root_.repositories.SessionRepository#saveOrUpdate(Ljava/lang/Object;Lplay/api/libs/json/Writes;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.ΠsaveOrUpdateJ[A] => (data: A)(implicit wts: Writes[A], hc: HeaderCarrier): Future[Unit]"§
_root_.repositories.SessionRepository#saveOrUpdate(Ljava/lang/Object;Lplay/api/libs/json/Writes;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.[A]")
%!_root_.play.api.libs.json.Writes#"§
&'_root_.repositories.SessionRepository#saveOrUpdate(Ljava/lang/Object;Lplay/api/libs/json/Writes;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.[A]".
.;&_root_.uk.gov.hmrc.http.HeaderCarrier#"'
>D_root_.scala.concurrent.Future#"
EI_root_.scala.Unit#"	
Ν_root_.controllers.IdentityVerification#`<init>`(Lauth/GGAction;Lconnectors/IdentityVerification;Lconnectors/Addresses;Lconnectors/IndividualAccounts;Lconnectors/identityVerificationProxy/IdentityVerificationProxyConnector;Lconnectors/GroupAccounts;Lconnectors/VPLAuthConnector;Lconfig/ApplicationConfig;Lrepositories/SessionRepo;)V.Ό<init>Θ(ggAction: GGAction, identityVerification: IdentityVerification, addresses: Addresses, individuals: IndividualAccounts, identityVerificationProxyConnector: IdentityVerificationProxyConnector, groups: GroupAccounts, auth: VPLAuthConnector, config: ApplicationConfig, personalDetailsSessionRepo: SessionRepo): IdentityVerification"
_root_.auth.GGAction#"/
+?'_root_.connectors.IdentityVerification#"$
LU_root_.connectors.Addresses#"-
dv%_root_.connectors.IndividualAccounts#"Y
ΎO_root_.connectors.identityVerificationProxy.IdentityVerificationProxyConnector#"*
ΘΥ _root_.connectors.GroupAccounts#"-
έν#_root_.connectors.VPLAuthConnector#"*
χ _root_.config.ApplicationConfig#"*
¦± _root_.repositories.SessionRepo#"2
΄Θ(_root_.controllers.IdentityVerification#"P
,_root_.connectors.identityVerificationProxy. €€identityVerificationProxy"Q
_root_.scala.Predef.String#2@StringString"
_root_.java.lang.String#"?
*_root_.org.scalatest.mockito.MockitoSugar#€@MockitoSugar"ϊ
W_root_.scala.concurrent.Future.successful(Ljava/lang/Object;)Lscala/concurrent/Future;.
successful[T] => (result: T): Future[T]"b
Z_root_.scala.concurrent.Future.successful(Ljava/lang/Object;)Lscala/concurrent/Future;.[T]"'
_root_.scala.concurrent.Future#"b
Z_root_.scala.concurrent.Future.successful(Ljava/lang/Object;)Lscala/concurrent/Future;.[T]"¶
G_root_.controllers.IdentityVerification#success()Lplay/api/mvc/Action;.ksuccessAction[AnyContent]"!
_root_.play.api.mvc.Action#"'
_root_.play.api.mvc.AnyContent#"'
_root_.uk.gov.hmrc.http.€€http"΅
:test/controllers/IdentityVerificationSpec.scala@2629..2716cresFuture[Result]"%
_root_.scala.concurrent.Future#"#
_root_.play.api.mvc.Result#"
_root_.play.api.
€€api"x
:test/controllers/IdentityVerificationSpec.scala@3897..3941:htmlDocument"&
 _root_.org.jsoup.nodes.Document#"g
*_root_.play.api.test.FakeRequest#(headers)9headersHeaders""
_root_.play.api.mvc.Headers#"§
Ό_root_.connectors.identityVerificationProxy.IdentityVerificationProxyConnector#`<init>`(Luk/gov/hmrc/play/config/inject/ServicesConfig;Lconfig/WSHttp;Lscala/concurrent/ExecutionContext;)V.ε<init>o(serverConfig: ServicesConfig, http: WSHttp)(implicit ec: ExecutionContext): IdentityVerificationProxyConnector"=
5_root_.uk.gov.hmrc.play.config.inject.ServicesConfig#"
%+_root_.config.WSHttp#"1
:J)_root_.scala.concurrent.ExecutionContext#"W
MoO_root_.connectors.identityVerificationProxy.IdentityVerificationProxyConnector#"[
)_root_.play.api.http.Status#UNAUTHORIZED..UNAUTHORIZEDInt"
_root_.scala.Int#"
K_root_.org.scalactic.source.Position.here()Lorg/scalactic/source/Position;.A € herePosition"+
%_root_.org.scalactic.source.Position#"
8_root_.controllers.IdentityVerificationSpec#`<init>`()V.^<init>(): IdentityVerificationSpec"4
,_root_.controllers.IdentityVerificationSpec#"?
$_root_.org.mockito.ArgumentMatchers.€„ArgumentMatchers"Β
s_root_.models.GroupAccount#`<init>`(JLjava/lang/String;Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;ZJ)V.Κ<init>(id: Long, groupId: String, companyName: String, addressId: Int, email: String, phone: String, isAgent: Boolean, agentCode: Long): GroupAccount"
	_root_.scala.Long#"#
_root_.scala.Predef.String#"#
)/_root_.scala.Predef.String#"
<?_root_.scala.Int#"#
HN_root_.scala.Predef.String#"#
W]_root_.scala.Predef.String#"
ho_root_.scala.Boolean#"
|€_root_.scala.Long#"%
ƒ_root_.models.GroupAccount#"/
_root_.scala.concurrent.Future.€„Future"
1_root_.org.scalacheck.Gen#sample()Lscala/Option;.Xsample	Option[T]"
_root_.scala.Option#"%
_root_.org.scalacheck.Gen#[T]"Β
p_root_.controllers.IdentityVerificationSpec#requestWithJourneyId(Ljava/lang/String;)Lplay/api/test/FakeRequest;.Ν„€requestWithJourneyId1(id: String): FakeRequest[AnyContentAsEmpty.type]"#
_root_.scala.Predef.String#")
!_root_.play.api.test.FakeRequest#".
+&_root_.play.api.mvc.AnyContentAsEmpty."t
:test/controllers/IdentityVerificationSpec.scala@2748..27826contentString"!
_root_.scala.Predef.String#"/
_root_.org.scalatest.mockito.€€mockito"'
_root_.org.jsoup.Jsoup.€„Jsoup"Ά
:test/controllers/IdentityVerificationSpec.scala@3936..3939dx$12Future[Result]"%
_root_.scala.concurrent.Future#"#
_root_.play.api.mvc.Result#"
[_root_.org.scalatest.mockito.MockitoSugar#mock(Lscala/reflect/ClassTag;)Ljava/lang/Object;.¬mock*[T] => (implicit classTag: ClassTag[T]): T"&
#_root_.scala.reflect.ClassTag#"f
$%^_root_.org.scalatest.mockito.MockitoSugar#mock(Lscala/reflect/ClassTag;)Ljava/lang/Object;.[T]"f
)*^_root_.org.scalatest.mockito.MockitoSugar#mock(Lscala/reflect/ClassTag;)Ljava/lang/Object;.[T]"+
_root_.repositories.€€repositories"%
_root_.resources.€€	resources"g
E_root_.controllers.IdentityVerificationSpec#TestIdentityVerification.€„	TestIdentityVerification"®
C_root_.utils.StubAuthConnector.stubExternalId(Ljava/lang/String;)V.gstubExternalId(id: String): Unit"#
_root_.scala.Predef.String#"
_root_.scala.Unit#")
_root_.org.scalatest.€€	scalatest"ά
–_root_.org.scalatest.MustMatchers#AnyMustWrapper#must(Lorg/scalatest/matchers/MatcherFactory1;Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.ΐmustu[TYPECLASS1] => (rightMatcherFactory1: MatcherFactory1[T, TYPECLASS1])(implicit typeClass1: TYPECLASS1[T]): Assertion"6
'6._root_.org.scalatest.matchers.MatcherFactory1#"<
784_root_.org.scalatest.MustMatchers#AnyMustWrapper#[T]"«
:DΆ_root_.org.scalatest.MustMatchers#AnyMustWrapper#must(Lorg/scalatest/matchers/MatcherFactory1;Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.[TYPECLASS1]"«
\fΆ_root_.org.scalatest.MustMatchers#AnyMustWrapper#must(Lorg/scalatest/matchers/MatcherFactory1;Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.[TYPECLASS1]"<
gh4_root_.org.scalatest.MustMatchers#AnyMustWrapper#[T]"/
lu'_root_.org.scalatest.package.Assertion#"
_root_.org.
€€org"

_root_.uk.	€€uk"γ
p_root_.org.scalatest.MustMatchers#AnyMustWrapper#mustBe(Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.omustBe(right: Any): Assertion"
_root_.scala.Any#"/
'_root_.org.scalatest.package.Assertion#"“
Z_root_.org.mockito.Mockito.when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.΄„€€when#[T] => (x$1: T): OngoingStubbing[T]"e
]_root_.org.mockito.Mockito.when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.[T]"4
 ,_root_.org.mockito.stubbing.OngoingStubbing#"e
!"]_root_.org.mockito.Mockito.when(Ljava/lang/Object;)Lorg/mockito/stubbing/OngoingStubbing;.[T]"Υ
”_root_.repositories.SessionRepository#start(Ljava/lang/Object;Lplay/api/libs/json/Writes;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.»startJ[A] => (data: A)(implicit wts: Writes[A], hc: HeaderCarrier): Future[Unit]" 
—_root_.repositories.SessionRepository#start(Ljava/lang/Object;Lplay/api/libs/json/Writes;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.[A]")
%!_root_.play.api.libs.json.Writes#" 
&'—_root_.repositories.SessionRepository#start(Ljava/lang/Object;Lplay/api/libs/json/Writes;Luk/gov/hmrc/http/HeaderCarrier;)Lscala/concurrent/Future;.[A]".
.;&_root_.uk.gov.hmrc.http.HeaderCarrier#"'
>D_root_.scala.concurrent.Future#"
EI_root_.scala.Unit#"2
_root_.models.GroupAccount#€ €GroupAccount"Ό
j_root_.org.scalatest.words.MatcherWords#equal(Ljava/lang/Object;)Lorg/scalatest/matchers/MatcherFactory1;.Νequal,(right: Any): MatcherFactory1[Any, Equality]"
_root_.scala.Any#"6
._root_.org.scalatest.matchers.MatcherFactory1#"
!_root_.scala.Any#"&
#+_root_.org.scalactic.Equality#"
_root_.uk.gov.
€€gov"ή
F_root_.scala.Predef.ArrowAssoc#`->`(Ljava/lang/Object;)Lscala/Tuple2;.“->[B] => (y: B): Tuple2[A, B]"Q
I_root_.scala.Predef.ArrowAssoc#`->`(Ljava/lang/Object;)Lscala/Tuple2;.[B]"
_root_.scala.Tuple2#"*
"_root_.scala.Predef.ArrowAssoc#[A]"Q
I_root_.scala.Predef.ArrowAssoc#`->`(Ljava/lang/Object;)Lscala/Tuple2;.[B]"»
M_root_.utils.StubIdentityVerification.stubFailedJourney(Ljava/lang/String;)V.jstubFailedJourney(id: String): Unit"#
_root_.scala.Predef.String#"
_root_.scala.Unit#":
 _root_.config.ApplicationConfig#€ ApplicationConfig"Β
4_root_.controllers.IdentityVerificationSpec#request.‰request#FakeRequest[AnyContentAsEmpty.type]"'
!_root_.play.api.test.FakeRequest#".
&_root_.play.api.mvc.AnyContentAsEmpty."
‹_root_.uk.gov.hmrc.play.HeaderCarrierConverter.fromHeadersAndSession(Lplay/api/mvc/Headers;Lscala/Option;)Luk/gov/hmrc/http/HeaderCarrier;.πfromHeadersAndSession;(headers: Headers, session: Option[Session]): HeaderCarrier"$

_root_.play.api.mvc.Headers#"
"_root_.scala.Option#"$
#*_root_.play.api.mvc.Session#".
.;&_root_.uk.gov.hmrc.http.HeaderCarrier#"!
_root_.scala.None.€„None".
_root_.play.api.test.Helpers.€„Helpers"k
,_root_.org.scalatest.words.MatcherWords#not.;notNotWord")
#_root_.org.scalatest.words.NotWord#"O
/_root_.uk.gov.hmrc.play.HeaderCarrierConverter.€„HeaderCarrierConverter"Α
¶_root_.org.scalatest.words.MustVerb#StringMustWrapperForVerb#must(Ljava/lang/String;Lorg/scalatest/words/StringVerbStringInvocation;)Lorg/scalatest/words/ResultOfStringPassedToVerb;.…mustV(right: String)(implicit svsi: StringVerbStringInvocation): ResultOfStringPassedToVerb"#
_root_.scala.Predef.String#">
96_root_.org.scalatest.words.StringVerbStringInvocation#">
<V6_root_.org.scalatest.words.ResultOfStringPassedToVerb#"΄
<_root_.controllers.IdentityVerificationSpec#mockSessionRepo.t€@mockSessionRepo PersonalDetailsSessionRepository";
 5_root_.repositories.PersonalDetailsSessionRepository#"M
,_root_.controllers.IdentityVerificationSpec#€ IdentityVerificationSpec"
W_root_.play.api.inject.Injector#instanceOf(Lscala/reflect/ClassTag;)Ljava/lang/Object;.®„€
instanceOf,[T] => (implicit evidence$1: ClassTag[T]): T"&
%_root_.scala.reflect.ClassTag#"b
&'Z_root_.play.api.inject.Injector#instanceOf(Lscala/reflect/ClassTag;)Ljava/lang/Object;.[T]"b
+,Z_root_.play.api.inject.Injector#instanceOf(Lscala/reflect/ClassTag;)Ljava/lang/Object;.[T]"
_root_.play.€€play"΅
:test/controllers/IdentityVerificationSpec.scala@3781..3865cresFuture[Result]"%
_root_.scala.concurrent.Future#"#
_root_.play.api.mvc.Result#"-
_root_.scala.concurrent.€€
concurrent":
_root_.utils.StubAuthConnector.€„StubAuthConnector"+
_root_.org.scalacheck.€€
scalacheck"β
€_root_.org.scalatest.MustMatchers#AnyMustWrapper#must(Lorg/scalatest/words/NotWord;)Lorg/scalatest/words/ResultOfNotWordForAny;.άmust,(notWord: NotWord): ResultOfNotWordForAny[T]"+

#_root_.org.scalatest.words.NotWord#"9
)1_root_.org.scalatest.words.ResultOfNotWordForAny#"<
*+4_root_.org.scalatest.MustMatchers#AnyMustWrapper#[T]"Ά
:test/controllers/IdentityVerificationSpec.scala@1480..1526df PersonalDetailsSessionRepository";
 5_root_.repositories.PersonalDetailsSessionRepository#"
t_root_.controllers.IdentityVerificationSpec#requestWithJourneyId(Ljava/lang/String;)Lplay/api/test/FakeRequest;.(id)2€idString"!
_root_.scala.Predef.String#"΅
<_root_.org.mockito.ArgumentMatchers.any()Ljava/lang/Object;.a„€€any[T] => (): T"G
?_root_.org.mockito.ArgumentMatchers.any()Ljava/lang/Object;.[T]"-
_root_.org.mockito.Mockito.€„Mockito"3
 _root_.org.scalacheck.Arbitrary.€„	Arbitrary"­
@_root_.utils.StubAuthConnector.stubGroupId(Ljava/lang/String;)V.istubGroupId(groupId: String): Unit"#

_root_.scala.Predef.String#"
_root_.scala.Unit#"Φ
G_root_.scala.StringContext#s(Lscala/collection/Seq;)Ljava/lang/String;.s(args: <repeated>[Any]): String""
_root_.scala.`<repeated>`#"
_root_.scala.Any#"#
_root_.scala.Predef.String#"
_root_.models.€€models"Έ
Π_root_.models.PersonalDetails#`<init>`(Ljava/lang/String;Ljava/lang/String;Ljava/time/LocalDate;Luk/gov/hmrc/domain/Nino;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lscala/Option;Lmodels/Address;)V.β<init>»(firstName: String, lastName: String, dateOfBirth: LocalDate, nino: Nino, email: String, confirmedEmail: String, phone1: String, phone2: Option[String], address: Address): PersonalDetails"#
_root_.scala.Predef.String#"#
$_root_.scala.Predef.String#"#
3<_root_.java.time.LocalDate#"'
DH_root_.uk.gov.hmrc.domain.Nino#"#
QW_root_.scala.Predef.String#"#
io_root_.scala.Predef.String#"#
y_root_.scala.Predef.String#"
‰_root_.scala.Option#"%
–_root_.scala.Predef.String#" 
Ά©_root_.models.Address#"(
¬»_root_.models.PersonalDetails#"ƒ
:test/controllers/IdentityVerificationSpec.scala@3106..3199E€ hcHeaderCarrier",
&_root_.uk.gov.hmrc.http.HeaderCarrier#"[
,_root_.scala.Option#get()Ljava/lang/Object;.+„€getA"
_root_.scala.Option#[A]"ƒ
:test/controllers/IdentityVerificationSpec.scala@4230..4323E€ hcHeaderCarrier",
&_root_.uk.gov.hmrc.http.HeaderCarrier#")
_root_.controllers.€€controllers"Θ
_root_.models.GroupAccount#copy(JLjava/lang/String;Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;ZJ)Lmodels/GroupAccount;.(groupId)7€groupIdString"!
_root_.scala.Predef.String#"J
'_root_.utils.StubGroupAccountConnector.€„StubGroupAccountConnector"8
_root_.models.PersonalDetails#€ €PersonalDetails"Κ
l_root_.config.ApplicationConfig#`<init>`(Lplay/api/Configuration;Luk/gov/hmrc/play/config/inject/RunMode;)V.Ω<init>C(configuration: Configuration, runMode: RunMode): ApplicationConfig"&
_root_.play.api.Configuration#"6
(/._root_.uk.gov.hmrc.play.config.inject.RunMode#"(
2C _root_.config.ApplicationConfig#"
_root_.utils.€€utils"
_root_.config.€€config"!
_root_.org.jsoup.€€jsoup"Ρ
ƒ_root_.models.GroupAccount#copy(JLjava/lang/String;Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;ZJ)Lmodels/GroupAccount;.Θcopy(id: Long, groupId: String, companyName: String, addressId: Int, email: String, phone: String, isAgent: Boolean, agentCode: Long): GroupAccount"
	_root_.scala.Long#"#
_root_.scala.Predef.String#"#
)/_root_.scala.Predef.String#"
<?_root_.scala.Int#"#
HN_root_.scala.Predef.String#"#
W]_root_.scala.Predef.String#"
ho_root_.scala.Boolean#"
|€_root_.scala.Long#"%
ƒ_root_.models.GroupAccount#"Γ
Q_root_.utils.StubIdentityVerification.stubSuccessfulJourney(Ljava/lang/String;)V.nstubSuccessfulJourney(id: String): Unit"#
_root_.scala.Predef.String#"
_root_.scala.Unit#"΅
:test/controllers/IdentityVerificationSpec.scala@2778..2781cx$1Future[Result]"%
_root_.scala.concurrent.Future#"#
_root_.play.api.mvc.Result#"
_root_.scala.€€scala"0
_root_.utils.StubGGAction.€„StubGGAction"Ϋ
l_root_.org.scalatest.words.ResultOfNotWordForAny#be(Ljava/lang/Object;)Lorg/scalatest/compatible/Assertion;.kbe(right: Any): Assertion"
_root_.scala.Any#"/
'_root_.org.scalatest.package.Assertion#"^
5_root_.repositories.PersonalDetailsSessionRepository#%€  PersonalDetailsSessionRepository"H
&_root_.utils.StubIdentityVerification.€„StubIdentityVerification"Ύ
K_root_.utils.StubGroupAccountConnector.stubAccount(Lmodels/GroupAccount;)V.ostubAccount(account: GroupAccount): Unit"#

_root_.models.GroupAccount#"
_root_.scala.Unit#"n
*_root_.org.scalatest.FlatSpec#`<init>`()V.@<init>(): FlatSpec"&
_root_.org.scalatest.FlatSpec#""
_root_.uk.gov.hmrc.€€hmrc"
`_root_.play.api.test.FakeRequest#withSession(Lscala/collection/Seq;)Lplay/api/test/FakeRequest;.·withSessionA(newSessions: <repeated>[Tuple2[String, String]]): FakeRequest[A]""
_root_.scala.`<repeated>`#"
_root_.scala.Tuple2#"#
 &_root_.scala.Predef.String#"#
(._root_.scala.Predef.String#")
3>!_root_.play.api.test.FakeRequest#",
?@$_root_.play.api.test.FakeRequest#[A]"h
*_root_.play.api.mvc.RequestHeader#session.:€@sessionSession""
_root_.play.api.mvc.Session#"'
_root_.uk.gov.hmrc.play.€€play"ƒ
A_root_.play.api.Application#injector()Lplay/api/inject/Injector;.>injectorInjector"&
 _root_.play.api.inject.Injector#"s
5_root_.org.scalatestplus.play.BaseOneAppPerSuite#app.:€`appApplication""
_root_.play.api.Application#"G
_root_.play.api.http.Status#OK.$OKInt"
_root_.scala.Int#" 
_root_.scala.Some.
€„Some"%
_root_.org.mockito.€€mockito"χ
W_root_.repositories.PersonalDetailsSessionRepository#`<init>`(Lreactivemongo/api/DB;)V.›<init>*(db: DB): PersonalDetailsSessionRepository"$
_root_.reactivemongo.api.DB#"=

*5_root_.repositories.PersonalDetailsSessionRepository#"¶
k_root_.org.scalatest.FlatSpecLike#InAndIgnoreMethods#in(Lscala/Function0;Lorg/scalactic/source/Position;)V.Ζin6(testFun: <byname>[Any])(implicit pos: Position): Unit" 

_root_.scala.`<byname>`#"
_root_.scala.Any#"-
'/%_root_.org.scalactic.source.Position#"
26_root_.scala.Unit#"g
(_root_.models.GroupAccount#(companyName);companyNameString"!
_root_.scala.Predef.String#"2
_root_.utils.StubAddresses.€„StubAddresses"ΐ
K_root_.org.jsoup.Jsoup.parse(Ljava/lang/String;)Lorg/jsoup/nodes/Document;.q„€€parse(x$1: String): Document" 
_root_.java.lang.String#"(
 _root_.org.jsoup.nodes.Document#2¤
Θ Θ &*(org.scalactic.Equality.default[Int])
_star_.
!$_root_.scala.Int#H
 @_root_.org.scalactic.Equality.default()Lorg/scalactic/Equality;.2G
ΥΥ	*[String]
_star_.#
_root_.scala.Predef.String#2D
ΰ$ΰ$	*[String]
_star_. 
_root_.java.lang.String#2ώ
ωΘ <IdentityVerificationSpec.this.convertToClueful[Assertion](*)t
.l_root_.org.scalatest.AppendedClues#convertToClueful(Lscala/Function0;)Lorg/scalatest/AppendedClues/Clueful;./
/8'_root_.org.scalatest.package.Assertion#
:;_star_.2~
””,*(resources.`package`.arbitraryGroupAccount)
_star_.7
+/_root_.resources.package.arbitraryGroupAccount.2±
ΙΙ)*(org.scalactic.Equality.default[String])
_star_.#
!'_root_.scala.Predef.String#H
 @_root_.org.scalactic.Equality.default()Lorg/scalactic/Equality;.2$
ήή*(x$2, x$3)
_star_.2ώ
ώΦ<IdentityVerificationSpec.this.convertToClueful[Assertion](*)t
.l_root_.org.scalatest.AppendedClues#convertToClueful(Lscala/Function0;)Lorg/scalatest/AppendedClues/Clueful;./
/8'_root_.org.scalatest.package.Assertion#
:;_star_.2B
‹‹
*[Nothing]
_star_.
	_root_.scala.Nothing#2m
ΝΝ*[Future[Unit]]
_star_.
	_root_.scala.Unit#'
_root_.scala.concurrent.Future#2«
έ©IdentityVerificationSpec.this.convertToStringMustWrapper(*)(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 55), org.scalactic.Prettifier.default)Α
8Έ_root_.org.scalatest.MustMatchers#convertToStringMustWrapper(Ljava/lang/String;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/MustMatchers/StringMustWrapper;.
9:_star_.y
Z_q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
”›(_root_.org.scalactic.Prettifier.default.2µ
φφ›*(((ClassTag.apply[PersonalDetailsSessionRepository](classOf[repositories.PersonalDetailsSessionRepository])): ClassTag[PersonalDetailsSessionRepository]))
_star_.>
x5_root_.repositories.PersonalDetailsSessionRepository#=
35_root_.repositories.PersonalDetailsSessionRepository#&
ow_root_.scala.reflect.ClassTag#W
O_root_.scala.reflect.ClassTag.apply(Ljava/lang/Class;)Lscala/reflect/ClassTag;.2b
Ί$Ί$*.apply
_star_.@
8_root_.play.api.mvc.Action#apply()Lplay/api/mvc/Action;.2®
Η"scala.Predef.ArrowAssoc[String](*)M
E_root_.scala.Predef.ArrowAssoc(Ljava/lang/Object;)Ljava/lang/Object;. 
_root_.java.lang.String#
 !_star_.2&
δδ*(x$13, x$14)
_star_.2©
ιιB*(IdentityVerificationSpec.this.shorthandTestRegistrationFunction)
_star_.L
 AD_root_.org.scalatest.FlatSpecLike#shorthandTestRegistrationFunction.2‚
έ†<IdentityVerificationSpec.this.convertToInAndIgnoreMethods(*)¨
9_root_.org.scalatest.FlatSpecLike#convertToInAndIgnoreMethods(Lorg/scalatest/words/ResultOfStringPassedToVerb;)Lorg/scalatest/FlatSpecLike/InAndIgnoreMethods;.
:;_star_.2«
κ€IdentityVerificationSpec.this.convertToStringMustWrapper(*)(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 85), org.scalactic.Prettifier.default)Α
8Έ_root_.org.scalatest.MustMatchers#convertToStringMustWrapper(Ljava/lang/String;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/MustMatchers/StringMustWrapper;.
9:_star_.y
Z_q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
”›(_root_.org.scalactic.Prettifier.default.2m
*[Future[Unit]]
_star_.
	_root_.scala.Unit#'
_root_.scala.concurrent.Future#2Φ
ΠΠh*(((ClassTag.apply[ApplicationConfig](classOf[config.ApplicationConfig])): ClassTag[ApplicationConfig]))
_star_.(
Te _root_.config.ApplicationConfig#W
O_root_.scala.reflect.ClassTag.apply(Ljava/lang/Class;)Lscala/reflect/ClassTag;.(
$ _root_.config.ApplicationConfig#&
KS_root_.scala.reflect.ClassTag#2L
ΜΜ*[Equality]
_star_.&

_root_.org.scalactic.Equality#2Θ
ι!²"ΔIdentityVerificationSpec.this.convertToAnyMustWrapper[Future[Option[DetailedIndividualAccount]]](*)(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 90), org.scalactic.Prettifier.default)0
D](_root_.models.DetailedIndividualAccount#
=C_root_.scala.Option#'
6<_root_.scala.concurrent.Future#»
5²_root_.org.scalatest.MustMatchers#convertToAnyMustWrapper(Ljava/lang/Object;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/MustMatchers/AnyMustWrapper;.
ab_star_.{
‚‡q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
ΌΓ(_root_.org.scalactic.Prettifier.default.2Υ
ΧΧΐ*(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 56))
_star_.y
 %q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2ώ
κΔ<IdentityVerificationSpec.this.convertToClueful[Assertion](*)t
.l_root_.org.scalatest.AppendedClues#convertToClueful(Lscala/Function0;)Lorg/scalatest/AppendedClues/Clueful;./
/8'_root_.org.scalatest.package.Assertion#
:;_star_.2y
εε*[Option[PersonalDetails]]
_star_.&
	_root_.models.PersonalDetails#
_root_.scala.Option#2«
Λ"›#IdentityVerificationSpec.this.convertToStringMustWrapper(*)(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 93), org.scalactic.Prettifier.default)Α
8Έ_root_.org.scalatest.MustMatchers#convertToStringMustWrapper(Ljava/lang/String;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/MustMatchers/StringMustWrapper;.
9:_star_.y
Z_q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
”›(_root_.org.scalactic.Prettifier.default.2x
*.apply
_star_.V
N_root_.scala.StringContext.apply(Lscala/collection/Seq;)Lscala/StringContext;.2B
ΔΔ
*[Nothing]
_star_.
	_root_.scala.Nothing#2‚
Ϋι<IdentityVerificationSpec.this.convertToInAndIgnoreMethods(*)¨
9_root_.org.scalatest.FlatSpecLike#convertToInAndIgnoreMethods(Lorg/scalatest/words/ResultOfStringPassedToVerb;)Lorg/scalatest/FlatSpecLike/InAndIgnoreMethods;.
:;_star_.2L
Ύ Ύ *[Equality]
_star_.&

_root_.org.scalactic.Equality#2•
…ΗΌIdentityVerificationSpec.this.convertToAnyMustWrapper[Option[DetailedIndividualAccount]](*)(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 71), org.scalactic.Prettifier.default)
6<_root_.scala.Option#»
5²_root_.org.scalatest.MustMatchers#convertToAnyMustWrapper(Ljava/lang/Object;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/MustMatchers/AnyMustWrapper;.0
=V(_root_.models.DetailedIndividualAccount#
YZ_star_.y
zq_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
΄»(_root_.org.scalactic.Prettifier.default.2©
††B*(IdentityVerificationSpec.this.shorthandTestRegistrationFunction)
_star_.L
 AD_root_.org.scalatest.FlatSpecLike#shorthandTestRegistrationFunction.2‚
Λ"Ε#<IdentityVerificationSpec.this.convertToInAndIgnoreMethods(*)¨
9_root_.org.scalatest.FlatSpecLike#convertToInAndIgnoreMethods(Lorg/scalatest/words/ResultOfStringPassedToVerb;)Lorg/scalatest/FlatSpecLike/InAndIgnoreMethods;.
:;_star_.2Β
ωΉ IdentityVerificationSpec.this.convertToAnyMustWrapper[Int](*)(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 86), org.scalactic.Prettifier.default)
69_root_.scala.Int#»
5²_root_.org.scalatest.MustMatchers#convertToAnyMustWrapper(Ljava/lang/Object;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/MustMatchers/AnyMustWrapper;.
;<_star_.y
\aq_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
–(_root_.org.scalactic.Prettifier.default.2B
ηη
*[Nothing]
_star_.
	_root_.scala.Nothing#2„
€€/*(resources.`package`.arbitraryPersonalDetails)
_star_.:
.2_root_.resources.package.arbitraryPersonalDetails.2B
ΰΰ
*[Nothing]
_star_.
	_root_.scala.Nothing#2‘
νν*.apply[Session]
_star_.@
8_root_.scala.Some.apply(Ljava/lang/Object;)Lscala/Some;.$
_root_.play.api.mvc.Session#2Β
΅¬IdentityVerificationSpec.this.convertToAnyMustWrapper[Int](*)(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 62), org.scalactic.Prettifier.default)
69_root_.scala.Int#»
5²_root_.org.scalatest.MustMatchers#convertToAnyMustWrapper(Ljava/lang/Object;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/MustMatchers/AnyMustWrapper;.
;<_star_.y
\aq_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
–(_root_.org.scalactic.Prettifier.default.2n
*.apply
_star_.L
D_root_.play.api.test.FakeRequest.apply()Lplay/api/test/FakeRequest;.2Β
©IdentityVerificationSpec.this.convertToAnyMustWrapper[Int](*)(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 82), org.scalactic.Prettifier.default)
69_root_.scala.Int#»
5²_root_.org.scalatest.MustMatchers#convertToAnyMustWrapper(Ljava/lang/Object;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/MustMatchers/AnyMustWrapper;.
;<_star_.y
\aq_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
–(_root_.org.scalactic.Prettifier.default.2B
½½
*[Nothing]
_star_.
	_root_.scala.Nothing#2L
……*[Equality]
_star_.&

_root_.org.scalactic.Equality#2«
‡IdentityVerificationSpec.this.convertToStringMustWrapper(*)(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 66), org.scalactic.Prettifier.default)Α
8Έ_root_.org.scalatest.MustMatchers#convertToStringMustWrapper(Ljava/lang/String;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/MustMatchers/StringMustWrapper;.
9:_star_.y
Z_q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
”›(_root_.org.scalactic.Prettifier.default.2<
ΏΏ*[Unit]
_star_.
_root_.scala.Unit#2®
Ρ$έ$"scala.Predef.ArrowAssoc[String](*)M
E_root_.scala.Predef.ArrowAssoc(Ljava/lang/Object;)Ljava/lang/Object;. 
_root_.java.lang.String#
 !_star_.2‘
Ρ!Ρ!*.apply[Session]
_star_.@
8_root_.scala.Some.apply(Ljava/lang/Object;)Lscala/Some;.$
_root_.play.api.mvc.Session#2¤
ΦΦ&*(org.scalactic.Equality.default[Int])
_star_.
!$_root_.scala.Int#H
 @_root_.org.scalactic.Equality.default()Lorg/scalactic/Equality;.2±
ΔΔ)*(org.scalactic.Equality.default[String])
_star_.#
!'_root_.scala.Predef.String#H
 @_root_.org.scalactic.Equality.default()Lorg/scalactic/Equality;.2b
οο*.apply
_star_.@
8_root_.play.api.mvc.Action#apply()Lplay/api/mvc/Action;.2|
Ό$Ό$*.apply
_star_.Z
R_root_.play.api.mvc.Action#apply(Lplay/api/mvc/Request;)Lscala/concurrent/Future;.2|
ρρ*.apply
_star_.Z
R_root_.play.api.mvc.Action#apply(Lplay/api/mvc/Request;)Lscala/concurrent/Future;.2©
Ε#Ε#B*(IdentityVerificationSpec.this.shorthandTestRegistrationFunction)
_star_.L
 AD_root_.org.scalatest.FlatSpecLike#shorthandTestRegistrationFunction.2B
ξξ
*[Nothing]
_star_.
	_root_.scala.Nothing#2Υ
Η"Η"ΐ*(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 74))
_star_.y
 %q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2B
‡‡
*[Nothing]
_star_.
	_root_.scala.Nothing#2Β
ώΗIdentityVerificationSpec.this.convertToAnyMustWrapper[Int](*)(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 67), org.scalactic.Prettifier.default)
69_root_.scala.Int#»
5²_root_.org.scalatest.MustMatchers#convertToAnyMustWrapper(Ljava/lang/Object;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/MustMatchers/AnyMustWrapper;.
;<_star_.y
\aq_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
–(_root_.org.scalactic.Prettifier.default.2<
””*[Unit]
_star_.
_root_.scala.Unit#2B
’’
*[Nothing]
_star_.
	_root_.scala.Nothing#2
ΆΆ"*[Future[Option[PersonalDetails]]]
_star_.
	_root_.scala.Option#'
_root_.scala.concurrent.Future#&
_root_.models.PersonalDetails#2
ςςΉ*(((ClassTag.apply[IdentityVerificationProxyConnector](classOf[connectors.identityVerificationProxy.IdentityVerificationProxyConnector])): ClassTag[IdentityVerificationProxyConnector]))
_star_.Y
”¶O_root_.connectors.identityVerificationProxy.IdentityVerificationProxyConnector#(
‹“_root_.scala.reflect.ClassTag#W
5O_root_.connectors.identityVerificationProxy.IdentityVerificationProxyConnector#W
O_root_.scala.reflect.ClassTag.apply(Ljava/lang/Class;)Lscala/reflect/ClassTag;.2Υ
%%ΐ*(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 93))
_star_.y
 %q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2«
Ϋ£IdentityVerificationSpec.this.convertToStringMustWrapper(*)(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 74), org.scalactic.Prettifier.default)Α
8Έ_root_.org.scalatest.MustMatchers#convertToStringMustWrapper(Ljava/lang/String;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/MustMatchers/StringMustWrapper;.
9:_star_.y
Z_q_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
”›(_root_.org.scalactic.Prettifier.default.2B
™™
*[Nothing]
_star_.
	_root_.scala.Nothing#2ώ
‡Ι<IdentityVerificationSpec.this.convertToClueful[Assertion](*)t
.l_root_.org.scalatest.AppendedClues#convertToClueful(Lscala/Function0;)Lorg/scalatest/AppendedClues/Clueful;./
/8'_root_.org.scalatest.package.Assertion#
:;_star_.2Β
χ$‚%IdentityVerificationSpec.this.convertToAnyMustWrapper[Int](*)(org.scalactic.source.Position.apply("IdentityVerificationSpec.scala", "Please set the environment variable SCALACTIC_FILL_FILE_PATHNAMES to yes at compile time to enable this feature.", 97), org.scalactic.Prettifier.default)
69_root_.scala.Int#»
5²_root_.org.scalatest.MustMatchers#convertToAnyMustWrapper(Ljava/lang/Object;Lorg/scalactic/source/Position;Lorg/scalactic/Prettifier;)Lorg/scalatest/MustMatchers/AnyMustWrapper;.
;<_star_.y
\aq_root_.org.scalactic.source.Position.apply(Ljava/lang/String;Ljava/lang/String;I)Lorg/scalactic/source/Position;.2
–(_root_.org.scalactic.Prettifier.default.2|
ρρ*.apply
_star_.Z
R_root_.play.api.mvc.Action#apply(Lplay/api/mvc/Request;)Lscala/concurrent/Future;.2b
οο*.apply
_star_.@
8_root_.play.api.mvc.Action#apply()Lplay/api/mvc/Action;.2B
άά
*[Nothing]
_star_.
	_root_.scala.Nothing#2L
ΆΆ*[Equality]
_star_.&

_root_.org.scalactic.Equality#:Scala211B%/*
 * Copyright 2017 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package controllers
import config.ApplicationConfig
import connectors.identityVerificationProxy.IdentityVerificationProxyConnector
import models.{GroupAccount, PersonalDetails}
import org.jsoup.Jsoup
import org.mockito.ArgumentMatchers.{eq => matching, _}
import org.mockito.Mockito._
import org.scalacheck.Arbitrary._
import org.scalatest.mockito.MockitoSugar
import play.api.test.FakeRequest
import play.api.test.Helpers._
import repositories.PersonalDetailsSessionRepository
import resources._
import utils.{StubAddresses, StubAuthConnector, StubGGAction, StubGroupAccountConnector, StubIdentityVerification, StubIndividualAccountConnector, _}

import scala.concurrent.Future
import uk.gov.hmrc.http.HeaderCarrier
import uk.gov.hmrc.play.HeaderCarrierConverter

class IdentityVerificationSpec extends ControllerSpec with MockitoSugar {

  lazy val mockSessionRepo = {
    val f = mock[PersonalDetailsSessionRepository]
    when(f.start(any())(any(), any())
    ).thenReturn(Future.successful(()))
    when(f.saveOrUpdate(any())(any(), any())
    ).thenReturn(Future.successful(()))
    when(f.get[PersonalDetails](any(), any())).thenReturn(Future.successful(arbitrary[PersonalDetails].sample))
    f
  }

  private object TestIdentityVerification extends IdentityVerification(StubGGAction, StubIdentityVerification, StubAddresses,
    StubIndividualAccountConnector, app.injector.instanceOf[IdentityVerificationProxyConnector], StubGroupAccountConnector,
    StubAuthConnector, app.injector.instanceOf[ApplicationConfig], mockSessionRepo)

  val request = FakeRequest()
  private def requestWithJourneyId(id: String) = request.withSession("journeyId" -> id)

  "Successfully verifying identity when the group does not have a CCA account" must
    "display the successful iv confirmation page, and not create an individual account" in {
    StubAuthConnector.stubExternalId("externalId")
    StubAuthConnector.stubGroupId("groupwithoutaccount")
    StubIdentityVerification.stubSuccessfulJourney("successfuljourney")

    val res = TestIdentityVerification.success()(requestWithJourneyId("successfuljourney"))
    status(res) mustBe OK

    val content = contentAsString(res)
    val html = Jsoup.parse(content)
    html.select("h1").html must equal ("Weβ€™ve verified your identity") withClue "Page did not contain success summary"
    html.select(s"a.button[href=${routes.CreateGroupAccount.show.url}]").size must equal (1) withClue "Page did not contain link to create group account"

    implicit val hc = HeaderCarrierConverter.fromHeadersAndSession(request.headers, Some(request.session))

    await(StubIndividualAccountConnector.withExternalId("externalId")) mustBe None
  }

  "Successfully verifying identity when the group does have a CCA account" must "display a confirmation page, and create the individual account" in {
    StubAuthConnector.stubExternalId("individualwithoutaccount")
    StubAuthConnector.stubGroupId("groupwithaccount")
    val groupAccount = arbitrary[GroupAccount].sample.get
    StubGroupAccountConnector.stubAccount(groupAccount.copy(groupId = "groupwithaccount"))
    StubIdentityVerification.stubSuccessfulJourney("anothersuccess")

    val res = TestIdentityVerification.success()(requestWithJourneyId("anothersuccess"))
    status(res) mustBe OK

    val html = Jsoup.parse(contentAsString(res))
    html.select("h1").html must equal (s"${groupAccount.companyName} has already registered.") withClue "Page did not contain success summary"
    html.select(s"a.button[href=${routes.Dashboard.home.url}]").size must equal (1) withClue "Page did not contain dashboard link"

    implicit val hc = HeaderCarrierConverter.fromHeadersAndSession(request.headers, Some(request.session))

    StubIndividualAccountConnector.withExternalId("individualwithoutaccount") must not be None
  }

  "Manually navigating to the iv success page after failing identity verification" must "return a 401 Unauthorised response" in {
    StubIdentityVerification.stubFailedJourney("somejourneyid")

    val res = TestIdentityVerification.success()(request.withSession("journey-id" -> "somejourneyid"))
    status(res) mustBe UNAUTHORIZED
  }
}
J/test/controllers/IdentityVerificationSpec.scala