@*
 * Copyright 2018 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import actions.AuthenticatedRequest
@import controllers.agentAppointment.AppointAgentPropertiesVM

@(model: AppointAgentPropertiesVM)(implicit request: AuthenticatedRequest[_], messages: Messages)

@heading = @{ Messages("propertyRepresentation.appointAgentProperties.title") }

@main_template(
    heading,
    contentHeaderText = Some(heading),
    contentHeaderHidden = true,
    topNavigation = false
) {
    <div class="grid-row">
        <div class="column-whole">
            <h1 class="heading-medium">Appoint an agent to one or more properties</h1>
            <p>You can appoint ABC Agent (Agent ID: 12345) with the ability to submit checks and challenges to the following properties:</p>
            <div class="margin-bottom-20">

                <a href="#" id="selectAll2" class="margin-bottom-20">Select all / deselect all</a>

            </div>
            <div class="table-wrapper">
                <table  class="table-font-xsmall margin-top-0 dataTable no-footer" role="grid" aria-describedby="propertiesTableBusiness_info" style="width: 960px;">
                    <colgroup>
                        <col style="width:8%">
                        <col style="width:57%">
                        <col style="width:25%">
                        <col style="width:10%">
                    </colgroup>

                    <thead>
                        <tr role="row">
                            <th>Select</th>
                            <th class="sorting_asc" tabindex="0" aria-controls="propertiesTableBusiness" rowspan="1" colspan="1" aria-label="Address: activate to sort column descending" style="width: 320px;" aria-sort="ascending">Address</th>
                            <th class="sorting" tabindex="0" aria-controls="propertiesTableBusiness" rowspan="1" colspan="1" aria-label="Local authority reference: activate to sort column ascending" style="width: 200px;">Local authority reference</th>

                            <th class="sorting_disabled" rowspan="1" colspan="1" aria-label="Actions" style="width: 160px;">Actions</th>
                        </tr>
                        <tr id="filterrow" role="row">
                            <th></th>
                            <th rowspan="1" colspan="1"><input type="search" class="filter-input">
                                <button class="icon"><i class="search-icon"></i></button></th>
                            <th rowspan="1" colspan="1"><input type="search" class="filter-input">
                                <button class="icon"><i class="search-icon"></i></button></th>

                            <th rowspan="1" colspan="1"><a href="#" class="clear">Clear search</a></th>
                        </tr>
                    </thead>
                    <tbody>
                    @model.response.authorisations.zipWithIndex.map { case (authorisation, index) =>
                        @defining(s"checkbox-${index+1}") { checkboxId:String =>
                        <tr role="row" class="">
                            <td><div class="table-checkbox multiple-choice margin-bottom-20">
                                <input type="checkbox" id="@checkboxId" name="linkId" value="@authorisation.authorisationId">
                                <label for="@checkboxId"><span class="visually-hidden">Appoint</span></label>
                            </div></td>
                            <td class="">@authorisation.address</td>
                            <td>@authorisation.localAuthorityRef</td>
                            <td></td>
                        </tr>
                        }
                    }
                    </tbody>
                </table>

            </div>
            <div class="margin-bottom-20">

                <a href="#" id="selectAll1" class="margin-bottom-20">Select all / deselect all</a>

            </div>
        </div>
    </div>


}
